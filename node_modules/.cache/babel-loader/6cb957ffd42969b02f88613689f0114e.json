{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\admin\\\\Desktop\\\\tengeradmin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"C:\\\\Users\\\\admin\\\\Desktop\\\\tengeradmin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\admin\\\\Desktop\\\\tengeradmin\\\\src\\\\page\\\\trip\\\\VacationPrice.js\";\nimport React, { useContext, useEffect, useState, useRef } from 'react';\nimport { Link, useNavigate, useParams } from 'react-router-dom';\nimport axios from '../../components/Axios';\nimport UserContext from '../../context/UserContext';\nimport VacationContext from '../../context/VacationContext';\nexport default function VacationPrice() {\n  var _useParams = useParams(),\n      id = _useParams.id;\n\n  var vacationCtx = useContext(VacationContext);\n  var userCtx = useContext(UserContext);\n\n  var _useState = useState({\n    name: null,\n    price: [],\n    error: null\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      vPrice = _useState2[0],\n      setVPrice = _useState2[1];\n\n  var navigate = useNavigate();\n  useEffect(function () {\n    if (id) {\n      axios.get(\"vacations/\" + id).then(function (result) {\n        var resultData = result.data.data;\n        setVPrice({\n          name: resultData.name,\n          price: resultData.price,\n          error: null\n        });\n      }).catch(function (err) {\n        setVPrice({\n          name: null,\n          price: [],\n          error: err\n        });\n      });\n    }\n  }, []);\n  var pricerefone = useRef();\n  var poneone = useRef();\n  var ponetwo = useRef();\n  var ponethree = useRef();\n  var ponefour = useRef();\n  var pricereftwo = useRef();\n  var ptwoone = useRef();\n  var ptwotwo = useRef();\n  var ptwothree = useRef();\n  var ptwofour = useRef();\n\n  var handleType = function handleType() {\n    if (ptwoone.current.value === \"\") {\n      pricerefone.current.value = \"\";\n      pricereftwo.current.value = \"\";\n      ptwotwo.current.value = \"\";\n      ptwothree.current.value = \"\";\n      ptwofour.current.value = \"\";\n    }\n\n    var handleValue = [[pricerefone.current.value, poneone.current.value, ponetwo.current.value, ponethree.current.value, ponefour.current.value], [pricereftwo.current.value, ptwoone.current.value, ptwotwo.current.value, ptwothree.current.value, ptwofour.current.value]];\n    setVPrice({\n      name: vPrice.name,\n      price: handleValue,\n      error: null\n    });\n  };\n\n  var saveHandle = function saveHandle() {\n    if (id && vPrice.price[0] && vPrice.price[0][1]) {\n      axios.put(\"vacations/\" + id, {\n        price: _toConsumableArray(vPrice.price)\n      }, {\n        headers: {\n          Authorization: \"Bearer \".concat(userCtx.userState.token)\n        }\n      }).then(function (result) {\n        navigate(\"/vacations/\" + vacationCtx.vacationState.consultantid);\n      }).catch(function (err) {\n        setVPrice({\n          name: null,\n          price: [],\n          error: err\n        });\n      });\n    }\n  };\n\n  var saveHandleCheck = function saveHandleCheck() {\n    if (vPrice.price[0] && vPrice.price[0][1]) {\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"m-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 15\n    }\n  }, \"\\u04AE\\u043D\\u044D \\u0437\\u0430\\u0441\\u0432\\u0430\\u0440\\u043B\\u0430\\u0445: \", vacationCtx.vacationState.mcode, \" \\u043A\\u043E\\u0434\\u0442\\u043E\\u0439 \", vPrice.name)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"../vacations/\".concat(vacationCtx.vacationState.consultantid),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-block btn-primary btn-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, \"\\u0411\\u0443\\u0446\\u0430\\u0445\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card card-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }))))));\n}","map":{"version":3,"names":["React","useContext","useEffect","useState","useRef","Link","useNavigate","useParams","axios","UserContext","VacationContext","VacationPrice","id","vacationCtx","userCtx","name","price","error","vPrice","setVPrice","navigate","get","then","result","resultData","data","catch","err","pricerefone","poneone","ponetwo","ponethree","ponefour","pricereftwo","ptwoone","ptwotwo","ptwothree","ptwofour","handleType","current","value","handleValue","saveHandle","put","headers","Authorization","userState","token","vacationState","consultantid","saveHandleCheck","mcode"],"sources":["C:/Users/admin/Desktop/tengeradmin/src/page/trip/VacationPrice.js"],"sourcesContent":["import React, { useContext, useEffect, useState, useRef } from 'react'\r\nimport { Link, useNavigate, useParams } from 'react-router-dom';\r\nimport axios from '../../components/Axios';\r\nimport UserContext from '../../context/UserContext';\r\nimport VacationContext from '../../context/VacationContext';\r\nexport default function VacationPrice() {\r\n  let { id } = useParams();\r\n  const vacationCtx = useContext(VacationContext);\r\n  const userCtx = useContext(UserContext);\r\n  const [vPrice, setVPrice] = useState({name:null,price:[],error:null});\r\n  const navigate = useNavigate();\r\n  useEffect(()=>{\r\n    if(id){\r\n        axios.get(\"vacations/\"+id).then((result)=>{\r\n          const resultData = result.data.data;\r\n          setVPrice({\r\n            name:resultData.name,\r\n            price:resultData.price,\r\n            error:null,\r\n          })\r\n        }).catch((err)=>{\r\n          setVPrice({name:null,price:[],error:err})\r\n        })\r\n    }\r\n  },[]);\r\n  const pricerefone = useRef(); const poneone = useRef();  const ponetwo = useRef(); const ponethree = useRef(); const ponefour = useRef();\r\n  const pricereftwo = useRef(); const ptwoone = useRef();  const ptwotwo = useRef(); const ptwothree = useRef(); const ptwofour = useRef();\r\n  const handleType = ()=>{\r\n    if(ptwoone.current.value === \"\"){\r\n      pricerefone.current.value=\"\"; \r\n      pricereftwo.current.value=\"\"; ptwotwo.current.value=\"\"; ptwothree.current.value=\"\"; ptwofour.current.value=\"\";\r\n    }\r\n    let handleValue = [\r\n      [pricerefone.current.value, poneone.current.value, ponetwo.current.value, ponethree.current.value, ponefour.current.value,],\r\n      [pricereftwo.current.value, ptwoone.current.value, ptwotwo.current.value, ptwothree.current.value, ptwofour.current.value,]\r\n    ];\r\n    setVPrice({name:vPrice.name, price:handleValue, error:null,})\r\n  }\r\n  const saveHandle = () =>{\r\n    if(id && vPrice.price[0] && vPrice.price[0][1]){\r\n      axios.put(\"vacations/\"+id, {price:[...vPrice.price]},{\r\n        headers:{Authorization:`Bearer ${userCtx.userState.token}`}\r\n      }).then((result)=>{\r\n        navigate(\"/vacations/\"+vacationCtx.vacationState.consultantid)\r\n      }).catch((err)=>{\r\n        setVPrice({name:null,price:[],error:err})\r\n      })\r\n    }\r\n  }\r\n  const saveHandleCheck = () =>{\r\n    if(vPrice.price[0] && vPrice.price[0][1]){return false;}else{return true;}\r\n  }\r\n  return (\r\n    <div className=\"content-wrapper\">\r\n      <div className=\"content-header\">\r\n        <div className=\"container-fluid\">\r\n          <div className=\"row mb-2\">\r\n            <div className=\"col-sm-10\">\r\n              <h1 className=\"m-0\">Үнэ засварлах: {vacationCtx.vacationState.mcode} кодтой {vPrice.name}</h1>\r\n            </div>{/* /.col */}\r\n            <div className=\"col-sm-2\">\r\n              <Link to={`../vacations/${vacationCtx.vacationState.consultantid}`}>\r\n                <button type=\"button\" className=\"btn btn-block btn-primary btn-sm\">Буцах</button>\r\n              </Link>\r\n            </div>\r\n          </div>{/* /.row */}\r\n        </div>{/* /.container-fluid */}\r\n      </div> \r\n      <div className=\"content\">\r\n        <div className=\"container-fluid\">\r\n          <div className=\"row\">\r\n            <div className=\"col-lg-12\">\r\n              <div className=\"card card-primary\">\r\n                \r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}