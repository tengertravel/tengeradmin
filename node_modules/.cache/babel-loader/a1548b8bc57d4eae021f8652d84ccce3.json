{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\admin\\\\Desktop\\\\tengeradmin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _objectSpread from \"C:\\\\Users\\\\admin\\\\Desktop\\\\tengeradmin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\admin\\\\Desktop\\\\tengeradmin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\admin\\\\Desktop\\\\tengeradmin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\admin\\\\Desktop\\\\tengeradmin\\\\src\\\\context\\\\UserContext.js\";\n\nimport React, { useState } from 'react';\nimport axios from 'axios';\nvar UserContext = React.createContext();\nvar initialState = {\n  saving: false,\n  logginIn: false,\n  error: null,\n  errorCode: null,\n  token: null,\n  userId: null\n};\nexport var UserStore = function UserStore(props) {\n  var _useState = useState(initialState),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var loginUser = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(email, password) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setState(_objectSpread({}, state, {\n                saving: true\n              })); //const data = {email,password,returnToken:true};\n\n              _context.next = 3;\n              return axios.post('http://localhost:8000/api/users/login', {\n                email: email,\n                password: password\n              }).then(function (result) {\n                var resultData = result.data.data;\n                setState(_objectSpread({}, state, {\n                  saving: false,\n                  token: resultData.token,\n                  userId: resultData._id,\n                  error: null\n                }));\n              }).catch(function (err) {\n                setState(_objectSpread({}, state, {\n                  saving: false,\n                  token: null,\n                  userId: null,\n                  error: err.response.data.error.MNMessage\n                }));\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function loginUser(_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var loginErrorClear = function loginErrorClear() {\n    setState(_objectSpread({}, state, {\n      saving: false,\n      token: null,\n      userId: null,\n      error: null\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(UserContext.Provider, {\n    value: {\n      state: state,\n      loginUser: loginUser,\n      loginErrorClear: loginErrorClear\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, props.children);\n};\nexport default UserContext;","map":{"version":3,"names":["React","useState","axios","UserContext","createContext","initialState","saving","logginIn","error","errorCode","token","userId","UserStore","props","state","setState","loginUser","email","password","post","then","result","resultData","data","_id","catch","err","response","MNMessage","loginErrorClear","children"],"sources":["C:/Users/admin/Desktop/tengeradmin/src/context/UserContext.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst UserContext = React.createContext();\r\n\r\nconst initialState = {\r\n    saving: false,\r\n    logginIn: false,\r\n    error: null,\r\n    errorCode:null,\r\n    token: null,\r\n    userId: null\r\n}\r\n\r\nexport const UserStore = (props) =>{\r\n    const [state, setState] = useState(initialState);\r\n    const loginUser = async (email, password) =>{\r\n        setState({...state, saving:true });\r\n        //const data = {email,password,returnToken:true};\r\n        await axios.post('http://localhost:8000/api/users/login',{\r\n        email: email,\r\n        password: password\r\n        }).then((result) => {\r\n            const resultData = result.data.data;\r\n            setState({...state, saving:false,token:resultData.token,userId:resultData._id,error:null});\r\n        }).catch((err) => {\r\n            setState({...state, saving:false,token:null,userId:null, error:err.response.data.error.MNMessage});\r\n        });\r\n    }\r\n    const loginErrorClear = () =>{\r\n        setState({...state, saving:false,token:null,userId:null, error:null});\r\n    }\r\n    return(\r\n        <UserContext.Provider value={{ state, loginUser, loginErrorClear }}>\r\n            {props.children}\r\n        </UserContext.Provider>\r\n    );\r\n}\r\n\r\nexport default UserContext;"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAMC,WAAW,GAAGH,KAAK,CAACI,aAAN,EAApB;AAEA,IAAMC,YAAY,GAAG;EACjBC,MAAM,EAAE,KADS;EAEjBC,QAAQ,EAAE,KAFO;EAGjBC,KAAK,EAAE,IAHU;EAIjBC,SAAS,EAAC,IAJO;EAKjBC,KAAK,EAAE,IALU;EAMjBC,MAAM,EAAE;AANS,CAArB;AASA,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,KAAD,EAAU;EAAA,gBACLZ,QAAQ,CAACI,YAAD,CADH;EAAA;EAAA,IACxBS,KADwB;EAAA,IACjBC,QADiB;;EAE/B,IAAMC,SAAS;IAAA,oEAAG,iBAAOC,KAAP,EAAcC,QAAd;MAAA;QAAA;UAAA;YAAA;cACdH,QAAQ,mBAAKD,KAAL;gBAAYR,MAAM,EAAC;cAAnB,GAAR,CADc,CAEd;;cAFc;cAAA,OAGRJ,KAAK,CAACiB,IAAN,CAAW,uCAAX,EAAmD;gBACzDF,KAAK,EAAEA,KADkD;gBAEzDC,QAAQ,EAAEA;cAF+C,CAAnD,EAGHE,IAHG,CAGE,UAACC,MAAD,EAAY;gBAChB,IAAMC,UAAU,GAAGD,MAAM,CAACE,IAAP,CAAYA,IAA/B;gBACAR,QAAQ,mBAAKD,KAAL;kBAAYR,MAAM,EAAC,KAAnB;kBAAyBI,KAAK,EAACY,UAAU,CAACZ,KAA1C;kBAAgDC,MAAM,EAACW,UAAU,CAACE,GAAlE;kBAAsEhB,KAAK,EAAC;gBAA5E,GAAR;cACH,CANK,EAMHiB,KANG,CAMG,UAACC,GAAD,EAAS;gBACdX,QAAQ,mBAAKD,KAAL;kBAAYR,MAAM,EAAC,KAAnB;kBAAyBI,KAAK,EAAC,IAA/B;kBAAoCC,MAAM,EAAC,IAA3C;kBAAiDH,KAAK,EAACkB,GAAG,CAACC,QAAJ,CAAaJ,IAAb,CAAkBf,KAAlB,CAAwBoB;gBAA/E,GAAR;cACH,CARK,CAHQ;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAH;;IAAA,gBAATZ,SAAS;MAAA;IAAA;EAAA,GAAf;;EAaA,IAAMa,eAAe,GAAG,SAAlBA,eAAkB,GAAK;IACzBd,QAAQ,mBAAKD,KAAL;MAAYR,MAAM,EAAC,KAAnB;MAAyBI,KAAK,EAAC,IAA/B;MAAoCC,MAAM,EAAC,IAA3C;MAAiDH,KAAK,EAAC;IAAvD,GAAR;EACH,CAFD;;EAGA,oBACI,oBAAC,WAAD,CAAa,QAAb;IAAsB,KAAK,EAAE;MAAEM,KAAK,EAALA,KAAF;MAASE,SAAS,EAATA,SAAT;MAAoBa,eAAe,EAAfA;IAApB,CAA7B;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACKhB,KAAK,CAACiB,QADX,CADJ;AAKH,CAvBM;AAyBP,eAAe3B,WAAf"},"metadata":{},"sourceType":"module"}